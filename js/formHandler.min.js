document.addEventListener("DOMContentLoaded",function(){let e=new Date,t=e.getFullYear().toString()+"-"+(e.getMonth()+1).toString().padStart(2,0)+"-"+e.getDate().toString().padStart(2,0),n=document.querySelector('input[type="date"]'),o=document.querySelector('input[type="time"]');n.value=t,n.min=t,n.onchange=function(e){let t=new Date(e.target.value).getDay();t>0&&t<6?(o.min="17:00",o.max="21:00"):(o.min="12:00",o.max="21:00")};const a=document.querySelector("form");a.addEventListener("submit",e=>{e.preventDefault(),new FormData(a)}),a.addEventListener("formdata",e=>{let o=e.formData,s=new XMLHttpRequest;s.onload=function(){const e=document.getElementById("notification"),t=document.createElement("p");switch(s.status){case 200:const n=document.createTextNode("Message sent, we'll get back to you as soon as possible to confirm your reservation.");t.appendChild(n),e.hasChildNodes()||e.appendChild(n),e.style.display="block",e.style.backgroundColor="#3A8278",setTimeout(function(){e.style.display="none"},3e4);break;case 400:const o=document.createTextNode("Message was unable to be sent please contact us directly through email or by telephone.");t.appendChild(o),e.hasChildNodes()||e.appendChild(o),e.style.display="block",e.style.backgroundColor="#f70000",setTimeout(function(){e.style.display="none"},3e4);break;case 500:const a=document.createTextNode("Message was unable to be sent please contact us through email or by telephone.");t.appendChild(a),e.hasChildNodes()||e.appendChild(a),e.style.display="block",e.style.backgroundColor="#f70000",setTimeout(function(){e.style.display="none"},3e4)}},s.open("POST","mailer.php"),s.send(o),a.reset(),n.value=t})});